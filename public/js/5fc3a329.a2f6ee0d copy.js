(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5fc3a329"],{d5ff:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-my-xl"},[o("q-card",[o("q-card-title",[t._v("Create a new product")]),o("q-card-main",[o("q-field",{attrs:{count:250}},[o("q-input",{attrs:{"float-label":"Name","max-length":"250"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),o("q-field",{attrs:{count:250}},[o("q-input",{attrs:{"float-label":"Brand","max-length":"250"},model:{value:t.product.brand,callback:function(e){t.$set(t.product,"brand",e)},expression:"product.brand"}})],1),o("q-field",{attrs:{count:250}},[o("q-input",{attrs:{"float-label":"Color","max-length":"250"},model:{value:t.product.color,callback:function(e){t.$set(t.product,"color",e)},expression:"product.color"}})],1),o("q-field",[o("q-input",{attrs:{"float-label":"Price",type:"number",min:"1"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),o("q-field",[o("q-select",{attrs:{"float-label":"Categories",options:t.categories},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),o("q-field",{attrs:{count:5e3}},[o("q-input",{ref:"input1",attrs:{type:"textarea","float-label":"Description","max-height":100,rows:"7",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),o("q-field",{staticClass:"q-mt-lg",attrs:{helper:"Supported format: JPG, max. file size: 300KiB"}},[o("q-uploader",{ref:"uploader",attrs:{"float-label":"Images",url:"",multiple:"",extensions:".png, .jpeg, .jpg","max-file-size":2e3,"auto-expand":"","hide-upload-button":"","hide-upload-progress":"","upload-factory":t.uploadImages}})],1)],1),o("q-card-actions",{staticClass:"q-mt-md"},[o("div",{staticClass:"row justify-end full-width docs-btn"},[o("q-btn",{attrs:{label:"Cancel",flat:"",to:"/products/index"}}),o("q-btn",{attrs:{label:"Create",color:"primary"},on:{click:t.createProduct}})],1)])],1)],1)},r=[];a._withStripped=!0;o("7f7f");var c=o("bc3a"),l=o.n(c),i={data:function(){return{product:{name:"",description:"",price:"",brand:"",color:"",images:"",id:""},categories:[{label:"Phones",value:1},{label:"Notebooks",value:2},{label:"Accessories",value:3}],select:""}},methods:{uploadImages:function(t){var e=this;console.log(t);var o=new FormData;o.append("file",t),console.log(o),l.a.post("http://127.0.0.1:8000/api/products/"+this.product.id+"/images",o,{headers:{"content-type":"multipart/form-data"}}).then(function(t){setTimeout(function(){e.$router.push({path:"/products/"+e.product.id})},500)}).catch(function(t){e.$q.notify({type:"negative",timeout:2e3,message:"image upload failed"}),console.log(t)})},createProduct:function(){var t=this;console.log(this.productData),l.a.post("http://127.0.0.1:8000/api/products",this.productData).then(function(e){t.$q.notify({type:"positive",timeout:2e3,message:"The product has been created."}),t.product.id=e.data.id,t.$refs.uploader.upload()}).catch(function(e){t.$q.notify({type:"negative",timeout:2e3,message:"Fill all fields."}),console.log(e)})}},computed:{productData:function(){return{name:this.product.name,description:this.product.description,price:this.product.price,brand:this.product.brand,color:this.product.color,category:this.select}}}},n=i,s=(o("f1d0"),o("2877")),u=Object(s["a"])(n,a,r,!1,null,null,null);u.options.__file="Create.vue";e["default"]=u.exports},dc83:function(t,e,o){},f1d0:function(t,e,o){"use strict";var a=o("dc83"),r=o.n(a);r.a}}]);